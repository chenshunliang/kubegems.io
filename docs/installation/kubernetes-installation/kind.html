<!doctype html>
<html class="docs-version-current" lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/kubegems.io/blog/rss.xml" title="KubeGems RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kubegems.io/blog/atom.xml" title="KubeGems Atom Feed"><title data-rh="true">Kind | KubeGems</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kubegems.io/kubegems.io/docs/installation/kubernetes-installation/kind"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kind | KubeGems"><meta data-rh="true" name="description" content="使用Kind安装"><meta data-rh="true" property="og:description" content="使用Kind安装"><link data-rh="true" rel="icon" href="/kubegems.io/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kubegems.io/kubegems.io/docs/installation/kubernetes-installation/kind"><link data-rh="true" rel="alternate" href="https://kubegems.io/kubegems.io/docs/installation/kubernetes-installation/kind" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kubegems.io/kubegems.io/docs/installation/kubernetes-installation/kind" hreflang="x-default"><link rel="stylesheet" href="/kubegems.io/assets/css/styles.3d353abb.css">
<link rel="preload" href="/kubegems.io/assets/js/runtime~main.a65d52db.js" as="script">
<link rel="preload" href="/kubegems.io/assets/js/main.e376f640.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/kubegems.io/"><div class="navbar__logo"><img src="/kubegems.io/img/logo.svg" alt="KubeGems" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/kubegems.io/img/logo.svg" alt="KubeGems" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/kubegems.io/docs/concepts/what-is-kubegems">文档</a><a class="navbar__item navbar__link" href="/kubegems.io/blog">博客</a><a class="navbar__item navbar__link" href="/kubegems.io/community/support">社群</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/kubegems.io/docs/concepts/what-is-kubegems">v1.20.0-beta.1</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/kubegems.io/docs/installation/kubernetes-installation/kind" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">简体中文</a></li></ul></div><div class="navbar__items navbar__item--dock"><div class="toggle navbar__toggle toggle--disabled" role="button" tabindex="-1"><div class="toggle__icon toggle__icon--unchecked kubegems-icon icon-light"></div><div class="toggle__icon toggle__icon--checked kubegems-icon icon-dark"></div><input type="checkbox" class="toggle__screenreader-only" aria-label="Switch between dark and light mode"></div><a href="https://github.com/kubegems" target="_blank" rel="noopener noreferrer" class="navbar__github"></a><a href="https://demo.kubegems.io" target="_blank" rel="noopener noreferrer" class="navbar__login button button--primary">登录控制台</a><div class="navbar__login__account"><div class="navbar__login__info">账号: admin</div><div class="navbar__login__info">密码: demo!@#admin</div></div></div></div></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y sidebarWithHideableNavbar_FoYL"><a tabindex="-1" class="sidebarLogo_FJUI" href="/kubegems.io/"><img src="/kubegems.io/img/logo.svg" alt="KubeGems" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/kubegems.io/img/logo.svg" alt="KubeGems" class="themedImage_W2Cr themedImage--dark_oUvU"></a><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kubegems.io/docs/concepts/what-is-kubegems">概念</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/kubegems.io/docs/installation/quick-install">部署指南</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kubegems.io/docs/installation/quick-install">快速安装</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/kubegems.io/docs/installation/kubernetes-installation/kubeadm">安装Kubernetes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubegems.io/docs/installation/kubernetes-installation/kubeadm">Kubeadm（集群模式）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kubegems.io/docs/installation/kubernetes-installation/kind">Kind</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubegems.io/docs/installation/kubernetes-installation/aks">阿里云（ASK）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubegems.io/docs/installation/kubernetes-installation/gke">谷歌云（GKE）</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/kubegems.io/docs/installation/more-install-guides/kernel-optimize">更多配置</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kubegems.io/docs/quick-starts/quick-start">快速入门</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kubegems.io/docs/tasks/platform/user">使用指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kubegems.io/docs/public/contribute/add-content">参与贡献</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kubegems.io/docs/reference/customresourcedefinitions">参考</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/kubegems.io/">🏠</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">部署指南</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">安装Kubernetes</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/kubegems.io/docs/installation/kubernetes-installation/kind">Kind</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="使用kind安装">使用Kind安装<a class="hash-link" href="#使用kind安装" title="Direct link to heading">​</a></h2><hr><p>kind是一个使用Docker容器 &quot;节点 &quot;运行本地Kubernetes集群的工具。kind主要是为测试Kubernetes本身而设计，但也可用于本地开发或CI。</p><p>本文通过介绍kind的官方文档，指导用户在本地环境快速启动一个原生的kubernetes服务。</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</h5></div><div class="admonition-content"><p><code>kind</code> does not require <a href="https://kubernetes.io/docs/reference/kubectl/overview/" target="_blank" rel="noopener noreferrer"><code>kubectl</code></a>,<br>
but you will not be able to perform some of the examples in our docs without it.<br>
To install <code>kubectl</code> see the upstream <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_blank" rel="noopener noreferrer">kubectl installation docs</a>.</p></div></div><p>You can either install kind with <code>GO111MODULE=&quot;on&quot; go get sigs.k8s.io/kind@stableVersion</code> or clone this repo
and run <strong>make build</strong> from the repository.</p><p>Please use the latest Go when installing KIND from source, ideally go 1.14 or greater.</p><p><strong>go get</strong> will put <strong>kind</strong> in <code>$(go env GOPATH)/bin</code>. You may need to add that directory to your <code>$PATH</code> as
shown <a href="https://golang.org/doc/code.html#GOPATH" target="_blank" rel="noopener noreferrer">here</a> if you encounter the error
<code>kind: command not found</code> after installation.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</h5></div><div class="admonition-content"><p><strong>NOTE</strong>: <code>go get</code> should not be run from a Go <!-- -->[modules]<!-- --> enabled project directory,<br>
as go get inside a modules enabled project updates dependencies / behaves differently. Try for example <code>cd $HOME</code> first.</p></div></div><p>Without installing Go, kind can be built reproducibly with docker using <strong>make build</strong>,
the binary will be in <strong>bin/kind</strong>.</p><p>Stable binaries are also available on the <!-- -->[releases]<!-- --> page.
Stable releases are generally recommended for CI usage in particular.
To install, download the binary for your platform from &quot;Assets&quot; and place this
into your <code>$PATH</code>.</p><p>On Linux:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -Lo ./kind https://kind.sigs.k8s.io/dl/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> stableVersion </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/kind-linux-amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x ./kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> ./kind /some-dir-in-your-</span><span class="token environment constant" style="color:#36acaa">PATH</span><span class="token plain">/kind</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>On macOS via Homebrew:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> kind</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>On macOS via MacPorts:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> port selfupdate </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> port </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> kind</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>On macOS via Bash:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -Lo ./kind https://kind.sigs.k8s.io/dl/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> stableVersion </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/kind-darwin-amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x ./kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> ./kind /some-dir-in-your-</span><span class="token environment constant" style="color:#36acaa">PATH</span><span class="token plain">/kind</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>On Windows:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">curl.exe -Lo kind-windows-amd64.exe https://kind.sigs.k8s.io/dl/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> stableVersion </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/kind-windows-amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Move-Item .</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">kind-windows-amd64.exe c:</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">some-dir-in-your-</span><span class="token environment constant" style="color:#36acaa">PATH</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">kind.exe</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>On Windows via Chocolatey (<a href="https://chocolatey.org/packages/kind" target="_blank" rel="noopener noreferrer">https://chocolatey.org/packages/kind</a>)</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">choco </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> kind</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="creating-a-cluster">Creating a Cluster<a class="hash-link" href="#creating-a-cluster" title="Direct link to heading">​</a></h3><p>Creating a Kubernetes cluster is as simple as <code>kind create cluster</code>.</p><p>This will bootstrap a Kubernetes cluster using a pre-built
<!-- -->[node image][node image]<!-- -->. Prebuilt images are hosted at<!-- -->[<code>kindest/node</code>][kindest/node]<!-- -->, but to find images suitable for a given release currently you should check the <!-- -->[release notes]<!-- --> for your given kind version (check with <code>kind version</code>) where
you&#x27;ll find a complete listing of images created for a kind release.</p><p>To specify another image use the <code>--image</code> flag -- <code>kind create cluster --image=...</code>.</p><p>Using a different image allows you to change the Kubernetes version of the created
cluster.</p><p>If you desire to build the node image yourself with a custom version see the
<a href="#building-images">building images</a> section.</p><p>By default, the cluster will be given the name <code>kind</code>.
Use the <code>--name</code> flag to assign the cluster a different context name.</p><p>If you want the <code>create cluster</code> command to block until the control plane
reaches a ready status, you can use the <code>--wait</code> flag and specify a timeout.
To use <code>--wait</code> you must specify the units of the time to wait. For example, to
wait for 30 seconds, do <code>--wait 30s</code>, for 5 minutes do <code>--wait 5m</code>, etc.</p><p>More usage can be discovered with <code>kind create cluster --help</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="interacting-with-your-cluster">Interacting With Your Cluster<a class="hash-link" href="#interacting-with-your-cluster" title="Direct link to heading">​</a></h3><p>After <a href="#creating-a-cluster">creating a cluster</a>, you can use <!-- -->[kubectl][kubectl]<!-- -->
to interact with it by using the <!-- -->[configuration file generated by kind][access multiple clusters]<!-- -->.</p><p>By default, the cluster access configuration is stored in ${HOME}/.kube/config
if $KUBECONFIG environment variable is not set.</p><p>If $KUBECONFIG environment variable is set, then it is used as a list of paths
(normal path delimiting rules for your system). These paths are merged. When a value
is modified, it is modified in the file that defines the stanza. When a value is created,
it is created in the first file that exists. If no files in the chain exist,
then it creates the last file in the list.</p><p>You can use the <code>--kubeconfig</code> flag when creating the cluster, then only that file is loaded.
The flag may only be set once and no merging takes place.</p><p>To see all the clusters you have created, you can use the <code>get clusters</code>
command.</p><p>For example, let&#x27;s say you create two clusters:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind create cluster </span><span class="token comment" style="color:#999988;font-style:italic"># Default cluster context name is `kind`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind create cluster --name kind-2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>When you list your kind clusters, you will see something like the following:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind get clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind-2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>In order to interact with a specific cluster, you only need to specify the
cluster name as a context in kubectl:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl cluster-info --context kind-kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl cluster-info --context kind-kind-2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="deleting-a-cluster">Deleting a Cluster<a class="hash-link" href="#deleting-a-cluster" title="Direct link to heading">​</a></h3><p>If you created a cluster with <code>kind create cluster</code> then deleting is equally
simple:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind delete cluster</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If the flag <code>--name</code> is not specified, kind will use the default cluster
context name <code>kind</code> and delete that cluster.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="loading-an-image-into-your-cluster">Loading an Image Into Your Cluster<a class="hash-link" href="#loading-an-image-into-your-cluster" title="Direct link to heading">​</a></h3><p>Docker images can be loaded into your cluster nodes with:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind load docker-image my-custom-image-0 my-custom-image-1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><strong>Note</strong>: If using a named cluster you will need to specify the name of the<br>
cluster you wish to load the images into:<br>
<em>kind load docker-image my-custom-image-0 my-custom-image-1 --name kind-2</em></p></div></div><p>Additionally, image archives can be loaded with:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind load image-archive /my-image-archive.tar</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This allows a workflow like:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t my-custom-image:unique-tag ./my-image-dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind load docker-image my-custom-image:unique-tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f my-manifest-using-my-image:unique-tag</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</h5></div><div class="admonition-content"><p><strong>NOTE</strong>: You can get a list of images present on a cluster node by using docker exec:<br>
<em>docker exec -it my-node-name crictl images</em><br>
Where <strong>my-node-name</strong> is the name of the Docker container (e.g. <strong>kind-control-plane</strong>).</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</h5></div><div class="admonition-content"><p> <strong>NOTE</strong>: The Kubernetes default pull policy is <code>IfNotPresent</code> unless<br>
the image tag is <code>:latest</code> or omitted (and implicitly <code>:latest</code>) in which case the default policy is <code>Always</code>.
<code>IfNotPresent</code> causes the Kubelet to skip pulling an image if it already exists.<br>
See <!-- -->[Kubernetes imagePullPolicy][Kubernetes imagePullPolicy]<!-- --> for more information.</p></div></div><p>See also: <!-- -->[Using kind with Private Registries][Private Registries]<!-- -->.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="building-images">Building Images<a class="hash-link" href="#building-images" title="Direct link to heading">​</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</h5></div><div class="admonition-content"><p><strong>NOTE</strong>: If you&#x27;re using Docker Desktop, be sure to read <a href="#settings-for-docker-desktop">Settings for Docker Desktop</a> first.</p></div></div><p>kind runs a local Kubernetes cluster by using Docker containers as &quot;nodes&quot;.
kind uses the <!-- -->[<code>node-image</code>][node image]<!-- --> to run Kubernetes artifacts, such
as <code>kubeadm</code> or <code>kubelet</code>.
The <code>node-image</code> in turn is built off the <!-- -->[<code>base-image</code>][base image]<!-- -->, which
installs all the dependencies needed for Docker and Kubernetes to run in a
container.</p><p>Currently, kind supports one default way to build a <code>node-image</code>
if you have the <!-- -->[Kubernetes][kubernetes]<!-- --> source in your host machine
(<code>$GOPATH/src/k8s.io/kubernetes</code>), by using <code>docker</code>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</h5></div><div class="admonition-content"><p><strong>NOTE</strong>: Building Kubernetes node-images requires everything building upstream<br>
Kubernetes requires, we wrap the upstream build. This includes Docker with buildx.<br>
See: <a href="https://git.k8s.io/community/contributors/devel/development.md#building-kubernetes-with-docker" target="_blank" rel="noopener noreferrer">https://git.k8s.io/community/contributors/devel/development.md#building-kubernetes-with-docker</a></p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-for-docker-desktop">Settings for Docker Desktop<a class="hash-link" href="#settings-for-docker-desktop" title="Direct link to heading">​</a></h3><p>If you are building Kubernetes (for example - <code>kind build node-image</code>) on MacOS or Windows then you need a minimum of 6GB of RAM
dedicated to the virtual machine (VM) running the Docker engine. 8GB is recommended.</p><p>To change the resource limits for the Docker on Mac, you&#x27;ll need to open the</p><p><strong>Preferences</strong> menu.</p><img src="https://d33wubrfki0l68.cloudfront.net/b6b566b3d35ab118ac6dd27c3732c5cab852365d/38c2b/docs/user/images/docker-pref-1.png"><p>Now, go to the <strong>Advanced</strong> settings page, and change the
settings there, see <!-- -->[changing Docker&#x27;s resource limits][Docker resource lims]<!-- -->.</p><img src="https://d33wubrfki0l68.cloudfront.net/23353e57f81ecdd1485b2fb6db9489d2f635fd1e/1ad25/docs/user/images/docker-pref-2.png" alt="Setting 8Gb of memory in Docker for Mac"><p>To change the resource limits for the Docker on Windows, you&#x27;ll need to right-click the Moby
icon on the taskbar, and choose &quot;Settings&quot;. If you see &quot;Switch to Linux Containers&quot;, then you&#x27;ll need
to do that first before opening &quot;Settings&quot;</p><img src="https://d33wubrfki0l68.cloudfront.net/6281a3188c95ce901ef98ce28c883c013fed8d7c/db170/docs/user/images/docker-pref-1-win.png"><p>Now, go to the <strong>Advanced</strong> settings page, and change the
settings there, see <!-- -->[changing Docker&#x27;s resource limits][Docker resource lims]<!-- -->.</p><img src="https://d33wubrfki0l68.cloudfront.net/0be38be04913786e0cca3a4e0d3a3367f0c03bc1/86b0e/docs/user/images/docker-pref-build-win.png" alt="Setting 8Gb of memory in Docker for Windows"><p>You may also try removing any unused data left by the Docker engine - e.g.,
<code>docker system prune</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="advanced">Advanced<a class="hash-link" href="#advanced" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="configuring-your-kind-cluster">Configuring Your kind Cluster<a class="hash-link" href="#configuring-your-kind-cluster" title="Direct link to heading">​</a></h4><p>For a sample kind configuration file see <!-- -->[kind-example-config][kind-example-config]<!-- -->.
To specify a configuration file when creating a cluster, use the <code>--config</code>
flag:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind create cluster --config kind-example-config.yaml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>Multi-node clusters</strong></p><p>In particular, many users may be interested in multi-node clusters. A simple
configuration for this can be achieved with the following config file contents:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># three node (two workers) cluster config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kind.x</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">k8s.io/v1alpha4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>Control-plane HA</strong></p><p>You can also have a cluster with multiple control-plane nodes:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># a cluster with 3 control-plane nodes and 3 workers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kind.x</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">k8s.io/v1alpha4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>Mapping ports to the host machine</strong></p><p>You can map extra ports from the nodes to the host machine with <code>extraPortMappings</code>:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kind.x</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">k8s.io/v1alpha4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">extraPortMappings</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">hostPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">listenAddress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Optional, defaults to &quot;0.0.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> udp </span><span class="token comment" style="color:#999988;font-style:italic"># Optional, defaults to tcp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This can be useful if using <code>NodePort</code> services or daemonsets exposing host ports.</p><p>Note: binding the <code>listenAddress</code> to <code>127.0.0.1</code> may affect your ability to access the service.</p><p><strong>Setting Kubernetes version</strong></p><p>You can also set a specific Kubernetes version by setting the <code>node</code>&#x27;s container image. You can find available image tags on the <a href="https://github.com/kubernetes-sigs/kind/releases" target="_blank" rel="noopener noreferrer">releases page</a>. Please use the <code>sha256</code> shasum for your desired kubernetes version, as seen in this example:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kind.x</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">k8s.io/v1alpha4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kindest/node</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">v1.16.4@sha256</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">b91a2c2317a000f3a783489dfb755064177dbc3a0b2f4147d50f04825d016f55</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kindest/node</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">v1.16.4@sha256</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">b91a2c2317a000f3a783489dfb755064177dbc3a0b2f4147d50f04825d016f55</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="enable-feature-gates-in-your-cluster">Enable Feature Gates in Your Cluster<a class="hash-link" href="#enable-feature-gates-in-your-cluster" title="Direct link to heading">​</a></h4><p>Feature gates are a set of key=value pairs that describe alpha or experimental features. In order to enable a gate you have to <!-- -->[customize your kubeadm configuration][customize control plane with kubeadm]<!-- -->, and it will depend on what gate and component you want to enable. An example kind config can be:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kind.x</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">k8s.io/v1alpha4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">featureGates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">FeatureGateName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="configure-kind-to-use-a-proxy">Configure kind to use a proxy<a class="hash-link" href="#configure-kind-to-use-a-proxy" title="Direct link to heading">​</a></h3><p>If you are running kind in an environment that requires a proxy, you may need to configure kind to use it.</p><p>You can configure kind to use a proxy using one or more of the following <!-- -->[environment variables][proxy environment variables]<!-- --> (uppercase takes precedence):</p><ul><li><code>HTTP_PROXY</code> or <code>http_proxy</code></li><li><code>HTTPS_PROXY</code> or <code>https_proxy</code></li><li><code>NO_PROXY</code> or <code>no_proxy</code></li></ul><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</h5></div><div class="admonition-content"><p><strong>NOTE</strong>: If you set a proxy it would be passed along to everything in the kind nodes. <code>kind</code> will automatically append certain addresses into <code>NO_PROXY</code> before passing it to the nodes so that Kubernetes components connect to each other directly, but you may need to configure
additional addresses depending on your usage.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="exporting-cluster-logs">Exporting Cluster Logs<a class="hash-link" href="#exporting-cluster-logs" title="Direct link to heading">​</a></h3><p>kind has the ability to export all kind related logs for you to explore.
To export all logs from the default cluster (context name <code>kind</code>):</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind export logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Exported logs to: /tmp/396758314</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Like all other commands, if you want to perform the action on a cluster with a
different context name use the <code>--name</code> flag.</p><p>As you can see, kind placed all the logs for the cluster <code>kind</code> in a
temporary directory. If you want to specify a location then simply add the path
to the directory after the command:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kind export logs ./somedir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Exported logs to: ./somedir</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The structure of the logs will look more or less like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── docker-info.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── kind-control-plane/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── docker.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── inspect.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── journal.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kubelet.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kubernetes-version.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── pods/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The logs contain information about the Docker host, the containers running
kind, the Kubernetes cluster itself, etc.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="reference">reference<a class="hash-link" href="#reference" title="Direct link to heading">​</a></h3><p>[go-supported]<!-- -->
<a href="https://golang.org/doc/devel/release.html#policy" target="_blank" rel="noopener noreferrer">https://golang.org/doc/devel/release.html#policy</a>)</p><p>[releases]<!-- -->
<a href="https://github.com/kubernetes-sigs/kind/releases" target="_blank" rel="noopener noreferrer">https://github.com/kubernetes-sigs/kind/releases</a></p><p>[kind-example-config]<!-- -->
<a href="https://raw.githubusercontent.com/kubernetes-sigs/kind/main/site/content/docs/user/kind-example-config.yaml" target="_blank" rel="noopener noreferrer">https://raw.githubusercontent.com/kubernetes-sigs/kind/main/site/content/docs/user/kind-example-config.yaml</a></p><p>[kubernetes]<!-- -->
<a href="https://github.com/kubernetes/kubernetes" target="_blank" rel="noopener noreferrer">https://github.com/kubernetes/kubernetes</a></p><p>[kindest/node]<!-- -->
<a href="https://hub.docker.com/r/kindest/node/" target="_blank" rel="noopener noreferrer">https://hub.docker.com/r/kindest/node/</a></p><p>[kubectl]<!-- -->
<a href="https://kubernetes.io/docs/reference/kubectl/overview/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/reference/kubectl/overview/</a></p><p>[Docker resource lims]<!-- -->
<a href="https://docs.docker.com/docker-for-mac/#advanced" target="_blank" rel="noopener noreferrer">https://docs.docker.com/docker-for-mac/#advanced</a></p><p>[install docker]<!-- -->
<a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/install/</a></p><p>[proxy environment variables]<!-- -->
<a href="https://docs.docker.com/network/proxy/#use-environment-variables" target="_blank" rel="noopener noreferrer">https://docs.docker.com/network/proxy/#use-environment-variables</a></p><p>[CGO]<!-- -->
<a href="https://golang.org/cmd/cgo/" target="_blank" rel="noopener noreferrer">https://golang.org/cmd/cgo/</a></p><p>[Kubernetes imagePullPolicy]<!-- -->
<a href="https://kubernetes.io/docs/concepts/containers/images/#updating-images" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/concepts/containers/images/#updating-images</a></p><p>[customize control plane with kubeadm]<!-- -->
<a href="https://kubernetes.io/docs/setup/independent/control-plane-flags/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/setup/independent/control-plane-flags/</a></p><p>[access multiple clusters]<!-- -->
<a href="https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/</a></p><p>[release notes]<!-- -->
<a href="https://github.com/kubernetes-sigs/kind/releases" target="_blank" rel="noopener noreferrer">https://github.com/kubernetes-sigs/kind/releases</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/kubegems.io/docs/installation/kubernetes-installation/kubeadm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Kubeadm（集群模式）</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/kubegems.io/docs/installation/kubernetes-installation/aks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">阿里云（ASK）</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#使用kind安装" class="table-of-contents__link toc-highlight">使用Kind安装</a><ul><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#creating-a-cluster" class="table-of-contents__link toc-highlight">Creating a Cluster</a></li><li><a href="#interacting-with-your-cluster" class="table-of-contents__link toc-highlight">Interacting With Your Cluster</a></li><li><a href="#deleting-a-cluster" class="table-of-contents__link toc-highlight">Deleting a Cluster</a></li><li><a href="#loading-an-image-into-your-cluster" class="table-of-contents__link toc-highlight">Loading an Image Into Your Cluster</a></li><li><a href="#building-images" class="table-of-contents__link toc-highlight">Building Images</a></li><li><a href="#settings-for-docker-desktop" class="table-of-contents__link toc-highlight">Settings for Docker Desktop</a></li><li><a href="#advanced" class="table-of-contents__link toc-highlight">Advanced</a></li><li><a href="#configure-kind-to-use-a-proxy" class="table-of-contents__link toc-highlight">Configure kind to use a proxy</a></li><li><a href="#exporting-cluster-logs" class="table-of-contents__link toc-highlight">Exporting Cluster Logs</a></li><li><a href="#reference" class="table-of-contents__link toc-highlight">reference</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer" id="footer"><div class="text--center">Copyright © 2022 KubeGems, Inc.</div></footer></div>
<script src="/kubegems.io/assets/js/runtime~main.a65d52db.js"></script>
<script src="/kubegems.io/assets/js/main.e376f640.js"></script>
</body>
</html>